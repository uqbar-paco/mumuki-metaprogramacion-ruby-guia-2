TODO: explicar define_method